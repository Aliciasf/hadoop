<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="testConf.xsl"?>

<configuration>
  <!-- Normal mode is test. To run just the commands and dump the output
       to the log, set it to nocompare -->
  <mode>test</mode>
  
  <!--  Comparator types:
           ExactComparator
           SubstringComparator
           RegexpComparator
           TokenComparator
           -->
  <tests>
    <test> <!--Tested -->
      <description>refreshServiceAcl: refreshing security authorization policy for jobtracker</description>
      <test-commands>
        <mr-admin-command>-jt JOBTRACKER -refreshServiceAcl </mr-admin-command>
      </test-commands>
      <cleanup-commands>
        <!-- No cleanup -->
      </cleanup-commands>
      <comparators>
        <comparator>
          <type>ExactComparator</type>
          <expected-output></expected-output>
        </comparator>
      </comparators>
    </test>
    
    <test> <!--Tested -->
      <description>refreshServiceAcl: verifying error message while refreshing security authorization policy for jobtracker</description>
      <test-commands>
        <!-- hadoop-policy.xml for tests has 
             security.refresh.policy.protocol.acl = ${user.name} -->
        <mr-admin-command>-jt JOBTRACKER -Dhadoop.job.ugi=blah,blah -refreshServiceAcl </mr-admin-command>
      </test-commands>
      <cleanup-commands>
        <!-- No cleanup -->
      </cleanup-commands>
      <comparators>
        <comparator>
          <type>SubstringComparator</type>
          <expected-output>access denied</expected-output>
        </comparator>
      </comparators>
    </test>
  </tests>
</configuration>
